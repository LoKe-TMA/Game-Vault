<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasks</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://sad.adsgram.ai/js/sad.min.js"></script>
</head>
<body>
  <h2>Daily Tasks</h2>
  <button id="ad">🎥 Watch Ad</button>

  <script>
    // Initialize Adsgram inside same file (avoid async loading problem)
    const AdController = window.Adsgram.init({ blockId: "int-14145" });

    const button = document.getElementById('ad');
    button.addEventListener('click', () => {
      AdController.show()
        .then((result) => {
          alert("🎉 Reward from Ad!");
          // TODO: call backend here to reward user
        })
        .catch((err) => {
          alert("❌ Ad error: " + JSON.stringify(err));
        });
    });
  </script>
</body>
</html>
